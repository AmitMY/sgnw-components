import{r as t,e as s,h as o,f as n,g as e,H as i,i as r}from"./p-0a08ba0e.js";const a=class{constructor(o){t(this,o),this.ratingUpdated=s(this,"ratingUpdated",7),this.maxValue=5,this.value=0,this.starList=[]}componentWillLoad(){this.createStarList(this.value)}logUpdate(){console.log("ratingUpdated")}setValue(t){this.value=t,this.createStarList(this.value),this.ratingUpdated.emit({value:this.value})}createStarList(t){let s=[];for(let n=1;n<=this.maxValue;n++)s.push(o("span",{class:"rating",onClick:()=>this.setValue(n),onMouseOver:()=>this.createStarList(n),onMouseOut:()=>this.createStarList(this.value)},n<=t?"★":"☆"));this.starList=s}render(){return o("div",null,this.starList)}static get watchers(){return{value:["componentWillLoad"]}}};a.style=".rating{color:orange}";const l=class{constructor(s){t(this,s)}handleMouseDown(t){console.log("mousedown")}handleTouchStart(t){console.log("touchstart")}render(){return o("div",null,o("slot",null))}};l.style=":host{width:100%;height:400px;background-color:#333;display:flex;align-items:center;justify-content:center;overflow:hidden;border-radius:7px;touch-action:none}";let $={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"𝠀",box:"\ud836[\udc01-\udc04]"};$.prefix=`(?:${$.sort}(?:${$.symbol})+)`,$.spatial=`${$.symbol}${$.coord}`,$.signbox=`${$.box}${$.coord}(?:${$.spatial})*`,$.sign=`${$.prefix}?${$.signbox}`,$.sortable=`${$.prefix}${$.signbox}`;const c=t=>parseInt(t.codePointAt(0))-120844+250,d=t=>[c(t.slice(0,2)),c(t.slice(2,4))],u=t=>parseInt(t.codePointAt(0)),f=t=>String.fromCodePoint(t);let h={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};h.prefix=`(?:${h.sort}(?:${h.symbol})+)`,h.spatial=`${h.symbol}${h.coord}`,h.signbox=`${h.box}${h.coord}(?:${h.spatial})*`,h.sign=`${h.prefix}?${h.signbox}`,h.sortable=`${h.prefix}${h.signbox}`;let p={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};p.colorbase=`(?:${p.colorhex}|${p.colorname})`,p.color=`_${p.colorbase}_`,p.colors=`_${p.colorbase}(?:,${p.colorbase})?_`,p.background="G"+p.color,p.detail="D"+p.colors,p.detailsym="D[0-9]{2}"+p.colors,p.classes=`${p.classbase}(?: ${p.classbase})*`,p.full=`-(${p.colorize})?(${p.padding})?(${p.background})?(${p.detail})?(${p.zoom})?(?:-((?:${p.detailsym})*)((?:${p.zoomsym})*))?(?:-(${p.classes})?!(?:(${p.id})!)?)?`;const g=t=>t.split("x").map(t=>parseInt(t));let x={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"𝠀",box:"\ud836[\udc01-\udc04]"};x.prefix=`(?:${x.sort}(?:${x.symbol})+)`,x.spatial=`${x.symbol}${x.coord}`,x.signbox=`${x.box}${x.coord}(?:${x.spatial})*`,x.sign=`${x.prefix}?${x.signbox}`,x.sortable=`${x.prefix}${x.signbox}`;let v={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};v.colorbase=`(?:${v.colorhex}|${v.colorname})`,v.color=`_${v.colorbase}_`,v.colors=`_${v.colorbase}(?:,${v.colorbase})?_`,v.background="G"+v.color,v.detail="D"+v.colors,v.detailsym="D[0-9]{2}"+v.colors,v.classes=`${v.classbase}(?: ${v.classbase})*`,v.full=`-(${v.colorize})?(${v.padding})?(${v.background})?(${v.detail})?(${v.zoom})?(?:-((?:${v.detailsym})*)((?:${v.zoomsym})*))?(?:-(${v.classes})?!(?:(${v.id})!)?)?`;const w=t=>parseInt(t.codePointAt(0))-120844+250,m=t=>[w(t.slice(0,2)),w(t.slice(2,4))];let z={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};z.colorbase=`(?:${z.colorhex}|${z.colorname})`,z.color=`_${z.colorbase}_`,z.colors=`_${z.colorbase}(?:,${z.colorbase})?_`,z.background="G"+z.color,z.detail="D"+z.colors,z.detailsym="D[0-9]{2}"+z.colors,z.classes=`${z.classbase}(?: ${z.classbase})*`,z.full=`-(${z.colorize})?(${z.padding})?(${z.background})?(${z.detail})?(${z.zoom})?(?:-((?:${z.detailsym})*)((?:${z.zoomsym})*))?(?:-(${z.classes})?!(?:(${z.id})!)?)?`;const y=t=>1+96*(parseInt(t.slice(1,4),16)-256)+16*parseInt(t.slice(4,5),16)+parseInt(t.slice(5,6),16);let _={};const Z=document.createElement("canvas");Z.width=152,Z.height=152;const A=Z.getContext("2d");let I={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};I.colorbase=`(?:${I.colorhex}|${I.colorname})`,I.color=`_${I.colorbase}_`,I.colors=`_${I.colorbase}(?:,${I.colorbase})?_`,I.background="G"+I.color,I.detail="D"+I.colors,I.detailsym="D[0-9]{2}"+I.colors,I.classes=`${I.classbase}(?: ${I.classbase})*`,I.full=`-(${I.colorize})?(${I.padding})?(${I.background})?(${I.detail})?(${I.zoom})?(?:-((?:${I.detailsym})*)((?:${I.zoomsym})*))?(?:-(${I.classes})?!(?:(${I.id})!)?)?`;const b=t=>(new RegExp(`^${I.colorhex}$`).test(t)?"#":"")+t,S=t=>{const s=("string"==typeof t?t.match(new RegExp("^"+I.full)):[])||[];return{colorize:s[1]?!!s[1]:void 0,padding:s[2]?parseInt(s[2].slice(1)):void 0,background:s[3]?b(s[3].slice(2,-1)):void 0,detail:s[4]?s[4].slice(2,-1).split(",").map(b):void 0,zoom:s[5]?"Zx"===s[5]?"x":parseFloat(s[5].slice(1)):void 0,detailsym:s[6]?s[6].match(new RegExp(I.detailsym,"g")).map(t=>{const s=t.split("_"),o=s[1].split(",").map(b);return{index:parseInt(s[0].slice(1)),detail:o}}):void 0,zoomsym:s[7]?s[7].match(new RegExp(I.zoomsym,"g")).map(t=>{const s=t.split(",");return{index:parseInt(s[0].slice(1)),zoom:parseFloat(s[1]),offset:s[2]?s[2].split("x").map(t=>parseInt(t)-500):void 0}}):void 0,classes:s[8]?s[8]:void 0,id:s[9]?s[9]:void 0}};let F={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};F.prefix=`(?:${F.sort}(?:${F.symbol})+)`,F.spatial=`${F.symbol}${F.coord}`,F.signbox=`${F.box}${F.coord}(?:${F.spatial})*`,F.sign=`${F.prefix}?${F.signbox}`,F.sortable=`${F.prefix}${F.signbox}`;let D={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};D.colorbase=`(?:${D.colorhex}|${D.colorname})`,D.color=`_${D.colorbase}_`,D.colors=`_${D.colorbase}(?:,${D.colorbase})?_`,D.background="G"+D.color,D.detail="D"+D.colors,D.detailsym="D[0-9]{2}"+D.colors,D.classes=`${D.classbase}(?: ${D.classbase})*`,D.full=`-(${D.colorize})?(${D.padding})?(${D.background})?(${D.detail})?(${D.zoom})?(?:-((?:${D.detailsym})*)((?:${D.zoomsym})*))?(?:-(${D.classes})?!(?:(${D.id})!)?)?`;const C=t=>t.split("x").map(t=>parseInt(t)),R=t=>{const s="string"==typeof t?t.match(new RegExp(`^(${F.symbol})(${F.coord})?(${D.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?C(s[2]):void 0,style:s?s[3]:void 0}},k=[256,517,759,767,877,895,903],U=["#0000CC","#CC0000","#FF0099","#006600","#000000","#884411","#FF9900"],E=t=>{const s=R(t);if(s.symbol){let o=function(t){return function(t){if(t in _)return[..._[t]];A.clearRect(0,0,152,152),A.font="60px 'SuttonSignWritingLine'",A.fillText(String.fromCodePoint(t+983040),0,0);const s=A.getImageData(0,0,152,152).data;let o,n,e,i;t:for(o=151;o>=0;o--)for(n=0;n<152;n+=1)for(i=0;i<4;i+=1)if(e=4*o+4*n*152+i,s[e])break t;var r=o;t:for(n=151;n>=0;n--)for(o=0;o<r;o+=1)for(i=0;i<4;i+=1)if(e=4*o+4*n*152+i,s[e])break t;var a=n+1;if(r=Math.ceil(r/2),a=Math.ceil(a/2),14394==t&&(r=19),[10468,10480,10496,10512,10500,10532,10548,10862,10878,10894,11058,11074,11476,11488,11492,11504,11508,11520,10516,10910,10926,11042,11082,10942].includes(t)&&(r=20),31921==t&&(r=22),38460==t&&(r=23),[20164,20212].includes(t)&&(r=25),31894==t&&(r=28),46698==t&&(r=29),29606==t&&(r=30),44855==t&&(r=40),32667==t&&(r=50),[11088,11474,11490,11506].includes(t)&&(a=20),6285==t&&(a=21),40804==t&&(a=31),41475==t&&(a=36),0==r&&0==a){const s={9:[15,30],10:[21,30],11:[30,15],12:[30,21],13:[15,30],14:[21,30]};t in s&&(r=s[t][0],a=s[t][1])}return 0!=r||0!=a?(_[t]=[r,a],[r,a]):void 0}(y(t))}(s.symbol);if(o){let n,e=S(s.style),i=function(t){return`    <text class="sym-fill" fill="white" style="pointer-events:none;font-family:'SuttonSignWritingFill';font-size:30px;">${function(t){return String.fromCodePoint(t+1048576)}(s=y(t))}</text>\n    <text class="sym-line" fill="black" style="pointer-events:none;font-family:'SuttonSignWritingLine';font-size:30px;">${function(t){return String.fromCodePoint(t+983040)}(s)}</text>`;var s}(s.symbol);i=`  <g transform="translate(500,500)">\n${i}\n  </g>`,e.colorize?n=(t=>{const s=R(t);let o="#000000";if(s.symbol){const t=parseInt(s.symbol.slice(1,4),16),n=k.findIndex(s=>s>t);o=U[n<0?6:n-1]}return o})(s.symbol):e.detail&&(n=e.detail[0]),n&&(i=i.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${n}"`));let r=e.detail&&e.detail[1];r&&(i=i.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${r}"`));let a=500,l=500,$="";e.padding&&(a-=e.padding,l-=e.padding,o[0]+=2*e.padding,o[1]+=2*e.padding),e.background&&($=`\n  <rect x="${a}" y="${l}" width="${o[0]}" height="${o[1]}" style="fill:${e.background};" />`);let c="";"x"!=e.zoom&&(c=` width="${o[0]*(e.zoom?e.zoom:1)}" height="${o[1]*(e.zoom?e.zoom:1)}"`);let d="";e.classes&&(d=` class="${e.classes}"`);let u="";return e.id&&(u=` id="${e.id}"`),`<svg${d}${u} version="1.1" xmlns="http://www.w3.org/2000/svg"${c} viewBox="${a} ${l} ${o[0]} ${o[1]}">\n  <text font-size="0">${t}</text>${$}\n${i}\n</svg>`}}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'},L=class{constructor(s){t(this,s),this.sgnw=window.sgnw}iidUpdate(t,s){var o=parseInt(t);isNaN(o)?this.iid=0:t!=s&&o>0&&o<65535&&(this.fsw=(t=>{const s=t-1,o=parseInt(s/96),n=parseInt((s-96*o)/16),e=parseInt(s-96*o-16*n);return"S"+(o+256).toString(16)+n.toString(16)+e.toString(16)})(o),this.swu=f(o+262144))}fswUpdate(t,s){if(console.log("fsw",this.fsw,"-",t,"-",s),"string"==typeof t&&t.length>6)this.fsw=this.fsw.substring(0,6);else if(t!=s){console.log("fswU",this.fsw,"-",t,"-",s);var o=(t=>{const s="string"==typeof t?t.match(new RegExp(`^(${h.symbol})(${h.coord})?(${p.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?g(s[2]):void 0,style:s?s[3]:void 0}})(t);o&&o.symbol&&(this.fsw=o.symbol,this.iid=(n=o.symbol,1+96*(parseInt(n.slice(1,4),16)-256)+16*parseInt(n.slice(4,5),16)+parseInt(n.slice(5,6),16)),this.swu=(t=>f(262145+96*(parseInt(t.slice(1,4),16)-256)+16*parseInt(t.slice(4,5),16)+parseInt(t.slice(5,6),16)))(o.symbol))}var n}swuUpdate(t,s){if(t!=s){var o=(t=>{const s="string"==typeof t?t.match(new RegExp(`^(${x.symbol})(${x.coord})?(${v.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?m(s[2]):void 0,style:s?s[3]:void 0}})(t);o&&o.symbol&&(this.iid=u(o.symbol)-262144,this.fsw=(t=>{if(!t)return"";let s=t.replace(/𝠀/g,"A").replace(/𝠁/g,"B").replace(/𝠂/g,"L").replace(/𝠃/g,"M").replace(/𝠄/g,"R");const o=s.match(new RegExp($.symbol,"g"));o&&o.forEach((function(t){s=s.replace(t,(t=>{const s=u(t)-262145,o=parseInt(s/96),n=parseInt((s-96*o)/16),e=parseInt(s-96*o-16*n);return"S"+(o+256).toString(16)+n.toString(16)+e.toString(16)})(t))}));const n=s.match(new RegExp($.coord,"g"));return n&&n.forEach((function(t){s=s.replace(t,d(t).join("x"))})),s})(o.symbol))}}connectedCallback(){if(!this.sgnw){let t=this;window.addEventListener("sgnw",(function s(){t.sgnw=window.sgnw,window.removeEventListener("sgnw",s,!1)}),!1)}this.fsw?this.fswUpdate(this.fsw,""):this.swu?this.swuUpdate(this.swu,""):(this.iid||(this.iid=0),this.iidUpdate(this.iid.toString(),"0"))}render(){let t="";if(this.styling)t=this.styling;else{let s=window.getComputedStyle(this.el,null);t=(t=>{if("object"!=typeof t||null===t)return;let s="-";s+=t.colorize?"C":"";const o=parseInt(t.padding);s+=!o||o<=0||o>99?"":"P"+(o>9?o:"0"+o);const n=t.background&&"string"==typeof t.background?t.background.match(z.colorbase)[0]:void 0;s+=n?"G_"+n+"_":"";const e=t.detail&&t.detail[0]&&"string"==typeof t.detail[0]?t.detail[0].match(z.colorbase)[0]:void 0,i=t.detail&&t.detail[1]&&"string"==typeof t.detail[1]?t.detail[1].match(z.colorbase)[0]:void 0;e&&(s+="D_"+e,i&&(s+=","+i),s+="_");const r="x"===t.zoom?"x":parseFloat(t.zoom);s+=!r||r<=0?"":"Z"+r;let a="";a+=(t.detailsym&&Array.isArray(t.detailsym)?t.detailsym.map(t=>{const s=parseInt(t.index);if(!s||s<=0||s>99)return"";let o="D"+(s>9?s:"0"+s);const n=t.detail&&t.detail[0]?t.detail[0].match(z.colorbase)[0]:void 0,e=t.detail&&t.detail[1]?t.detail[1].match(z.colorbase)[0]:void 0;return n&&(o+="_"+n,e&&(o+=","+e),o+="_"),o}):[]).join(""),a+=(t.zoomsym&&Array.isArray(t.zoomsym)?t.zoomsym.map(t=>{const s=parseInt(t.index);if(!s||s<=0||s>99)return"";let o="Z"+(s>9?s:"0"+s);const n=parseFloat(t.zoom);if(o+=!n||n<=0?"":","+n,t.offset&&0 in t.offset&&1 in t.offset){const s=parseInt(t.offset[0])+500,n=parseInt(t.offset[1])+500;s>=250&&s<750&&n>=250&&n<750&&(o+=","+s+"x"+n)}return o}):[]).join("");let l="";const $=t.classes&&"string"==typeof t.classes?t.classes.match(z.classes)[0]:void 0;l+=$||"";const c=t.id&&"string"==typeof t.id?t.id.match(z.id)[0]:void 0;return l+=$||c?"!":"",l+=c?c+"!":"",s+(a||l?"-"+a:"")+(l?"-"+l:"")})({padding:s.getPropertyValue("padding"),background:n(s.getPropertyValue("background-color")),detail:[e(s.getPropertyValue("color")),e(s.getPropertyValue("background-color"))],zoom:parseInt(s.getPropertyValue("font-size").slice(0,-2))/30})}return o(i,{iid:this.iid,fsw:this.fsw,swu:this.swu,styling:this.styling,innerHTML:this.sgnw?E(this.fsw+t):""},o("slot",null))}get el(){return r(this)}static get watchers(){return{iid:["iidUpdate"],fsw:["fswUpdate"],swu:["swuUpdate"]}}};L.style="";export{a as sgnw_rating,l as sgnw_signbox,L as sgnw_symbol}