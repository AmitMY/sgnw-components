import{r as t,c as s,h as o,H as n,g as e}from"./p-201babef.js";const i=class{constructor(o){t(this,o),this.ratingUpdated=s(this,"ratingUpdated",7),this.maxValue=5,this.value=0,this.starList=[]}componentWillLoad(){this.createStarList(this.value)}logUpdate(){console.log("ratingUpdated")}setValue(t){this.value=t,this.createStarList(this.value),this.ratingUpdated.emit({value:this.value})}createStarList(t){let s=[];for(let n=1;n<=this.maxValue;n++)s.push(o("span",{class:"rating",onClick:()=>this.setValue(n),onMouseOver:()=>this.createStarList(n),onMouseOut:()=>this.createStarList(this.value)},n<=t?"★":"☆"));this.starList=s}render(){return o("div",null,this.starList)}static get watchers(){return{value:["componentWillLoad"]}}};i.style=".rating{color:orange}";const r=class{constructor(s){t(this,s)}handleMouseDown(t){console.log("mousedown")}handleTouchStart(t){console.log("touchstart")}render(){return o("div",null,o("slot",null))}};r.style=":host{width:100%;height:400px;background-color:#333;display:flex;align-items:center;justify-content:center;overflow:hidden;border-radius:7px;touch-action:none}";let a={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"𝠀",box:"\ud836[\udc01-\udc04]"};a.prefix=`(?:${a.sort}(?:${a.symbol})+)`,a.spatial=`${a.symbol}${a.coord}`,a.signbox=`${a.box}${a.coord}(?:${a.spatial})*`,a.sign=`${a.prefix}?${a.signbox}`,a.sortable=`${a.prefix}${a.signbox}`;const l=t=>parseInt(t.codePointAt(0))-120844+250,$=t=>[l(t.slice(0,2)),l(t.slice(2,4))],d=t=>parseInt(t.codePointAt(0)),c=t=>String.fromCodePoint(t);let u={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};u.prefix=`(?:${u.sort}(?:${u.symbol})+)`,u.spatial=`${u.symbol}${u.coord}`,u.signbox=`${u.box}${u.coord}(?:${u.spatial})*`,u.sign=`${u.prefix}?${u.signbox}`,u.sortable=`${u.prefix}${u.signbox}`;let f={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};f.colorbase=`(?:${f.colorhex}|${f.colorname})`,f.color=`_${f.colorbase}_`,f.colors=`_${f.colorbase}(?:,${f.colorbase})?_`,f.background="G"+f.color,f.detail="D"+f.colors,f.detailsym="D[0-9]{2}"+f.colors,f.classes=`${f.classbase}(?: ${f.classbase})*`,f.full=`-(${f.colorize})?(${f.padding})?(${f.background})?(${f.detail})?(${f.zoom})?(?:-((?:${f.detailsym})*)((?:${f.zoomsym})*))?(?:-(${f.classes})?!(?:(${f.id})!)?)?`;const h=t=>t.split("x").map(t=>parseInt(t));let g={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"𝠀",box:"\ud836[\udc01-\udc04]"};g.prefix=`(?:${g.sort}(?:${g.symbol})+)`,g.spatial=`${g.symbol}${g.coord}`,g.signbox=`${g.box}${g.coord}(?:${g.spatial})*`,g.sign=`${g.prefix}?${g.signbox}`,g.sortable=`${g.prefix}${g.signbox}`;let p={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};p.colorbase=`(?:${p.colorhex}|${p.colorname})`,p.color=`_${p.colorbase}_`,p.colors=`_${p.colorbase}(?:,${p.colorbase})?_`,p.background="G"+p.color,p.detail="D"+p.colors,p.detailsym="D[0-9]{2}"+p.colors,p.classes=`${p.classbase}(?: ${p.classbase})*`,p.full=`-(${p.colorize})?(${p.padding})?(${p.background})?(${p.detail})?(${p.zoom})?(?:-((?:${p.detailsym})*)((?:${p.zoomsym})*))?(?:-(${p.classes})?!(?:(${p.id})!)?)?`;const x=t=>parseInt(t.codePointAt(0))-120844+250,w=t=>[x(t.slice(0,2)),x(t.slice(2,4))],v=t=>1+96*(parseInt(t.slice(1,4),16)-256)+16*parseInt(t.slice(4,5),16)+parseInt(t.slice(5,6),16);let m={};const y=document.createElement("canvas");y.width=152,y.height=152;const z=y.getContext("2d");let _={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};_.colorbase=`(?:${_.colorhex}|${_.colorname})`,_.color=`_${_.colorbase}_`,_.colors=`_${_.colorbase}(?:,${_.colorbase})?_`,_.background="G"+_.color,_.detail="D"+_.colors,_.detailsym="D[0-9]{2}"+_.colors,_.classes=`${_.classbase}(?: ${_.classbase})*`,_.full=`-(${_.colorize})?(${_.padding})?(${_.background})?(${_.detail})?(${_.zoom})?(?:-((?:${_.detailsym})*)((?:${_.zoomsym})*))?(?:-(${_.classes})?!(?:(${_.id})!)?)?`;const Z=t=>(new RegExp(`^${_.colorhex}$`).test(t)?"#":"")+t,b=t=>{const s=("string"==typeof t?t.match(new RegExp("^"+_.full)):[])||[];return{colorize:s[1]?!!s[1]:void 0,padding:s[2]?parseInt(s[2].slice(1)):void 0,background:s[3]?Z(s[3].slice(2,-1)):void 0,detail:s[4]?s[4].slice(2,-1).split(",").map(Z):void 0,zoom:s[5]?"Zx"===s[5]?"x":parseFloat(s[5].slice(1)):void 0,detailsym:s[6]?s[6].match(new RegExp(_.detailsym,"g")).map(t=>{const s=t.split("_"),o=s[1].split(",").map(Z);return{index:parseInt(s[0].slice(1)),detail:o}}):void 0,zoomsym:s[7]?s[7].match(new RegExp(_.zoomsym,"g")).map(t=>{const s=t.split(",");return{index:parseInt(s[0].slice(1)),zoom:parseFloat(s[1]),offset:s[2]?s[2].split("x").map(t=>parseInt(t)-500):void 0}}):void 0,classes:s[8]?s[8]:void 0,id:s[9]?s[9]:void 0}};let A={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};A.prefix=`(?:${A.sort}(?:${A.symbol})+)`,A.spatial=`${A.symbol}${A.coord}`,A.signbox=`${A.box}${A.coord}(?:${A.spatial})*`,A.sign=`${A.prefix}?${A.signbox}`,A.sortable=`${A.prefix}${A.signbox}`;let I={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};I.colorbase=`(?:${I.colorhex}|${I.colorname})`,I.color=`_${I.colorbase}_`,I.colors=`_${I.colorbase}(?:,${I.colorbase})?_`,I.background="G"+I.color,I.detail="D"+I.colors,I.detailsym="D[0-9]{2}"+I.colors,I.classes=`${I.classbase}(?: ${I.classbase})*`,I.full=`-(${I.colorize})?(${I.padding})?(${I.background})?(${I.detail})?(${I.zoom})?(?:-((?:${I.detailsym})*)((?:${I.zoomsym})*))?(?:-(${I.classes})?!(?:(${I.id})!)?)?`;const S=t=>t.split("x").map(t=>parseInt(t)),R=t=>{const s="string"==typeof t?t.match(new RegExp(`^(${A.symbol})(${A.coord})?(${I.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?S(s[2]):void 0,style:s?s[3]:void 0}},F=[256,517,759,767,877,895,903],U=["#0000CC","#CC0000","#FF0099","#006600","#000000","#884411","#FF9900"],C=t=>{const s=R(t);if(s.symbol){let o=function(t){return function(t){if(t in m)return[...m[t]];z.clearRect(0,0,152,152),z.font="60px 'SuttonSignWritingLine'",z.fillText(String.fromCodePoint(t+983040),0,0);const s=z.getImageData(0,0,152,152).data;let o,n,e,i;t:for(o=151;o>=0;o--)for(n=0;n<152;n+=1)for(i=0;i<4;i+=1)if(e=4*o+4*n*152+i,s[e])break t;var r=o;t:for(n=151;n>=0;n--)for(o=0;o<r;o+=1)for(i=0;i<4;i+=1)if(e=4*o+4*n*152+i,s[e])break t;var a=n+1;if(r=Math.ceil(r/2),a=Math.ceil(a/2),14394==t&&(r=19),[10468,10480,10496,10512,10500,10532,10548,10862,10878,10894,11058,11074,11476,11488,11492,11504,11508,11520,10516,10910,10926,11042,11082,10942].includes(t)&&(r=20),31921==t&&(r=22),38460==t&&(r=23),[20164,20212].includes(t)&&(r=25),31894==t&&(r=28),46698==t&&(r=29),29606==t&&(r=30),44855==t&&(r=40),32667==t&&(r=50),[11088,11474,11490,11506].includes(t)&&(a=20),6285==t&&(a=21),40804==t&&(a=31),41475==t&&(a=36),0==r&&0==a){const s={9:[15,30],10:[21,30],11:[30,15],12:[30,21],13:[15,30],14:[21,30]};t in s&&(r=s[t][0],a=s[t][1])}return 0!=r||0!=a?(m[t]=[r,a],[r,a]):void 0}(v(t))}(s.symbol);if(o){let n,e=b(s.style),i=function(t){return`    <text class="sym-fill" fill="white" style="pointer-events:none;font-family:'SuttonSignWritingFill';font-size:30px;">${function(t){return String.fromCodePoint(t+1048576)}(s=v(t))}</text>\n    <text class="sym-line" fill="black" style="pointer-events:none;font-family:'SuttonSignWritingLine';font-size:30px;">${function(t){return String.fromCodePoint(t+983040)}(s)}</text>`;var s}(s.symbol);i=`  <g transform="translate(500,500)">\n${i}\n  </g>`,e.colorize?n=(t=>{const s=R(t);let o="#000000";if(s.symbol){const t=parseInt(s.symbol.slice(1,4),16),n=F.findIndex(s=>s>t);o=U[n<0?6:n-1]}return o})(s.symbol):e.detail&&(n=e.detail[0]),n&&(i=i.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${n}"`));let r=e.detail&&e.detail[1];r&&(i=i.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${r}"`));let a=500,l=500,$="";e.padding&&(a-=e.padding,l-=e.padding,o[0]+=2*e.padding,o[1]+=2*e.padding),e.background&&($=`\n  <rect x="${a}" y="${l}" width="${o[0]}" height="${o[1]}" style="fill:${e.background};" />`);let d="";"x"!=e.zoom&&(d=` width="${o[0]*(e.zoom?e.zoom:1)}" height="${o[1]*(e.zoom?e.zoom:1)}"`);let c="";e.classes&&(c=` class="${e.classes}"`);let u="";return e.id&&(u=` id="${e.id}"`),`<svg${c}${u} version="1.1" xmlns="http://www.w3.org/2000/svg"${d} viewBox="${a} ${l} ${o[0]} ${o[1]}">\n  <text font-size="0">${t}</text>${$}\n${i}\n</svg>`}}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'},D=class{constructor(s){t(this,s),this.sgnw=window.sgnw}stylingUpdate(t,s){console.log("watching"),console.log(t,s),console.log(this.styling)}iidUpdate(t,s){var o=parseInt(t);isNaN(o)?this.iid=0:t!=s&&o>0&&o<65535&&(this.fsw=(t=>{const s=t-1,o=parseInt(s/96),n=parseInt((s-96*o)/16),e=parseInt(s-96*o-16*n);return"S"+(o+256).toString(16)+n.toString(16)+e.toString(16)})(o),this.swu=c(o+262144))}fswUpdate(t,s){if(t!=s){var o=(t=>{const s="string"==typeof t?t.match(new RegExp(`^(${u.symbol})(${u.coord})?(${f.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?h(s[2]):void 0,style:s?s[3]:void 0}})(t);o&&o.symbol&&(this.iid=(n=o.symbol,1+96*(parseInt(n.slice(1,4),16)-256)+16*parseInt(n.slice(4,5),16)+parseInt(n.slice(5,6),16)),this.swu=(t=>c(262145+96*(parseInt(t.slice(1,4),16)-256)+16*parseInt(t.slice(4,5),16)+parseInt(t.slice(5,6),16)))(o.symbol),o.style&&(this.styling=o.style))}var n}swuUpdate(t,s){if(t!=s){var o=(t=>{const s="string"==typeof t?t.match(new RegExp(`^(${g.symbol})(${g.coord})?(${p.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?w(s[2]):void 0,style:s?s[3]:void 0}})(t);o&&o.symbol&&(this.iid=d(o.symbol)-262144,this.fsw=(t=>{if(!t)return"";let s=t.replace(/𝠀/g,"A").replace(/𝠁/g,"B").replace(/𝠂/g,"L").replace(/𝠃/g,"M").replace(/𝠄/g,"R");const o=s.match(new RegExp(a.symbol,"g"));o&&o.forEach((function(t){s=s.replace(t,(t=>{const s=d(t)-262145,o=parseInt(s/96),n=parseInt((s-96*o)/16),e=parseInt(s-96*o-16*n);return"S"+(o+256).toString(16)+n.toString(16)+e.toString(16)})(t))}));const n=s.match(new RegExp(a.coord,"g"));return n&&n.forEach((function(t){s=s.replace(t,$(t).join("x"))})),s})(o.symbol),o.style&&(this.styling=o.style))}}connectedCallback(){if(!this.sgnw){let t=this;window.addEventListener("sgnw",(function s(){t.sgnw=window.sgnw,window.removeEventListener("sgnw",s,!1)}),!1)}this.fsw?this.fswUpdate(this.fsw,""):this.swu?this.swuUpdate(this.swu,""):(this.iid||(this.iid=0),this.iidUpdate(this.iid.toString(),"0"))}render(){return console.log("render",this.styling),o(n,{iid:this.iid,fsw:this.fsw,swu:this.swu,styling:this.styling,innerHTML:this.sgnw?C(this.fsw+this.styling):""},o("slot",null))}get el(){return e(this)}static get watchers(){return{styling:["stylingUpdate"],iid:["iidUpdate"],fsw:["fswUpdate"],swu:["swuUpdate"]}}};D.style="";export{i as sgnw_rating,r as sgnw_signbox,D as sgnw_symbol}