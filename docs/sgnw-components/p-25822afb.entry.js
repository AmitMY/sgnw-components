import{r as t,c as s,h as n,H as o,g as e}from"./p-201babef.js";const i=class{constructor(n){t(this,n),this.ratingUpdated=s(this,"ratingUpdated",7),this.maxValue=5,this.value=0,this.starList=[]}componentWillLoad(){this.createStarList(this.value)}logUpdate(){console.log("ratingUpdated")}setValue(t){this.value=t,this.createStarList(this.value),this.ratingUpdated.emit({value:this.value})}createStarList(t){let s=[];for(let o=1;o<=this.maxValue;o++)s.push(n("span",{class:"rating",onClick:()=>this.setValue(o),onMouseOver:()=>this.createStarList(o),onMouseOut:()=>this.createStarList(this.value)},o<=t?"★":"☆"));this.starList=s}render(){return n("div",null,this.starList)}static get watchers(){return{value:["componentWillLoad"]}}};i.style=".rating{color:orange}";const r=class{constructor(s){t(this,s)}handleMouseDown(t){console.log("mousedown")}handleTouchStart(t){console.log("touchstart")}render(){return n("div",null,n("slot",null))}};r.style=":host{width:100%;height:400px;background-color:#333;display:flex;align-items:center;justify-content:center;overflow:hidden;border-radius:7px;touch-action:none}";let a={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"𝠀",box:"\ud836[\udc01-\udc04]"};a.prefix=`(?:${a.sort}(?:${a.symbol})+)`,a.spatial=`${a.symbol}${a.coord}`,a.signbox=`${a.box}${a.coord}(?:${a.spatial})*`,a.sign=`${a.prefix}?${a.signbox}`,a.sortable=`${a.prefix}${a.signbox}`;const $=t=>parseInt(t.codePointAt(0))-120844+250,l=t=>[$(t.slice(0,2)),$(t.slice(2,4))],d=t=>parseInt(t.codePointAt(0)),c=t=>String.fromCodePoint(t);let u={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};u.prefix=`(?:${u.sort}(?:${u.symbol})+)`,u.spatial=`${u.symbol}${u.coord}`,u.signbox=`${u.box}${u.coord}(?:${u.spatial})*`,u.sign=`${u.prefix}?${u.signbox}`,u.sortable=`${u.prefix}${u.signbox}`;let h={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};h.colorbase=`(?:${h.colorhex}|${h.colorname})`,h.color=`_${h.colorbase}_`,h.colors=`_${h.colorbase}(?:,${h.colorbase})?_`,h.background="G"+h.color,h.detail="D"+h.colors,h.detailsym="D[0-9]{2}"+h.colors,h.classes=`${h.classbase}(?: ${h.classbase})*`,h.full=`-(${h.colorize})?(${h.padding})?(${h.background})?(${h.detail})?(${h.zoom})?(?:-((?:${h.detailsym})*)((?:${h.zoomsym})*))?(?:-(${h.classes})?!(?:(${h.id})!)?)?`;const f=t=>t.split("x").map(t=>parseInt(t)),g=t=>{const s="string"==typeof t?t.match(new RegExp(`^(${u.symbol})(${u.coord})?(${h.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?f(s[2]):void 0,style:s?s[3]:void 0}};let p={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"𝠀",box:"\ud836[\udc01-\udc04]"};p.prefix=`(?:${p.sort}(?:${p.symbol})+)`,p.spatial=`${p.symbol}${p.coord}`,p.signbox=`${p.box}${p.coord}(?:${p.spatial})*`,p.sign=`${p.prefix}?${p.signbox}`,p.sortable=`${p.prefix}${p.signbox}`;let x={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};x.colorbase=`(?:${x.colorhex}|${x.colorname})`,x.color=`_${x.colorbase}_`,x.colors=`_${x.colorbase}(?:,${x.colorbase})?_`,x.background="G"+x.color,x.detail="D"+x.colors,x.detailsym="D[0-9]{2}"+x.colors,x.classes=`${x.classbase}(?: ${x.classbase})*`,x.full=`-(${x.colorize})?(${x.padding})?(${x.background})?(${x.detail})?(${x.zoom})?(?:-((?:${x.detailsym})*)((?:${x.zoomsym})*))?(?:-(${x.classes})?!(?:(${x.id})!)?)?`;const v=t=>parseInt(t.codePointAt(0))-120844+250,w=t=>[v(t.slice(0,2)),v(t.slice(2,4))],m=t=>{const s="string"==typeof t?t.match(new RegExp(`^(${p.symbol})(${p.coord})?(${x.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?w(s[2]):void 0,style:s?s[3]:void 0}},y=t=>1+96*(parseInt(t.slice(1,4),16)-256)+16*parseInt(t.slice(4,5),16)+parseInt(t.slice(5,6),16);let z={};const _=document.createElement("canvas");_.width=152,_.height=152;const Z=_.getContext("2d");let b={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};b.colorbase=`(?:${b.colorhex}|${b.colorname})`,b.color=`_${b.colorbase}_`,b.colors=`_${b.colorbase}(?:,${b.colorbase})?_`,b.background="G"+b.color,b.detail="D"+b.colors,b.detailsym="D[0-9]{2}"+b.colors,b.classes=`${b.classbase}(?: ${b.classbase})*`,b.full=`-(${b.colorize})?(${b.padding})?(${b.background})?(${b.detail})?(${b.zoom})?(?:-((?:${b.detailsym})*)((?:${b.zoomsym})*))?(?:-(${b.classes})?!(?:(${b.id})!)?)?`;const A=t=>(new RegExp(`^${b.colorhex}$`).test(t)?"#":"")+t,I=t=>{const s=("string"==typeof t?t.match(new RegExp("^"+b.full)):[])||[];return{colorize:s[1]?!!s[1]:void 0,padding:s[2]?parseInt(s[2].slice(1)):void 0,background:s[3]?A(s[3].slice(2,-1)):void 0,detail:s[4]?s[4].slice(2,-1).split(",").map(A):void 0,zoom:s[5]?"Zx"===s[5]?"x":parseFloat(s[5].slice(1)):void 0,detailsym:s[6]?s[6].match(new RegExp(b.detailsym,"g")).map(t=>{const s=t.split("_"),n=s[1].split(",").map(A);return{index:parseInt(s[0].slice(1)),detail:n}}):void 0,zoomsym:s[7]?s[7].match(new RegExp(b.zoomsym,"g")).map(t=>{const s=t.split(",");return{index:parseInt(s[0].slice(1)),zoom:parseFloat(s[1]),offset:s[2]?s[2].split("x").map(t=>parseInt(t)-500):void 0}}):void 0,classes:s[8]?s[8]:void 0,id:s[9]?s[9]:void 0}};let S={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};S.prefix=`(?:${S.sort}(?:${S.symbol})+)`,S.spatial=`${S.symbol}${S.coord}`,S.signbox=`${S.box}${S.coord}(?:${S.spatial})*`,S.sign=`${S.prefix}?${S.signbox}`,S.sortable=`${S.prefix}${S.signbox}`;let R={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};R.colorbase=`(?:${R.colorhex}|${R.colorname})`,R.color=`_${R.colorbase}_`,R.colors=`_${R.colorbase}(?:,${R.colorbase})?_`,R.background="G"+R.color,R.detail="D"+R.colors,R.detailsym="D[0-9]{2}"+R.colors,R.classes=`${R.classbase}(?: ${R.classbase})*`,R.full=`-(${R.colorize})?(${R.padding})?(${R.background})?(${R.detail})?(${R.zoom})?(?:-((?:${R.detailsym})*)((?:${R.zoomsym})*))?(?:-(${R.classes})?!(?:(${R.id})!)?)?`;const F=t=>t.split("x").map(t=>parseInt(t)),U=t=>{const s="string"==typeof t?t.match(new RegExp(`^(${S.symbol})(${S.coord})?(${R.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?F(s[2]):void 0,style:s?s[3]:void 0}},C=[256,517,759,767,877,895,903],D=["#0000CC","#CC0000","#FF0099","#006600","#000000","#884411","#FF9900"],E=t=>{const s=U(t);if(s.symbol){let n=function(t){return function(t){if(t in z)return[...z[t]];Z.clearRect(0,0,152,152),Z.font="60px 'SuttonSignWritingLine'",Z.fillText(String.fromCodePoint(t+983040),0,0);const s=Z.getImageData(0,0,152,152).data;let n,o,e,i;t:for(n=151;n>=0;n--)for(o=0;o<152;o+=1)for(i=0;i<4;i+=1)if(e=4*n+4*o*152+i,s[e])break t;var r=n;t:for(o=151;o>=0;o--)for(n=0;n<r;n+=1)for(i=0;i<4;i+=1)if(e=4*n+4*o*152+i,s[e])break t;var a=o+1;if(r=Math.ceil(r/2),a=Math.ceil(a/2),14394==t&&(r=19),[10468,10480,10496,10512,10500,10532,10548,10862,10878,10894,11058,11074,11476,11488,11492,11504,11508,11520,10516,10910,10926,11042,11082,10942].includes(t)&&(r=20),31921==t&&(r=22),38460==t&&(r=23),[20164,20212].includes(t)&&(r=25),31894==t&&(r=28),46698==t&&(r=29),29606==t&&(r=30),44855==t&&(r=40),32667==t&&(r=50),[11088,11474,11490,11506].includes(t)&&(a=20),6285==t&&(a=21),40804==t&&(a=31),41475==t&&(a=36),0==r&&0==a){const s={9:[15,30],10:[21,30],11:[30,15],12:[30,21],13:[15,30],14:[21,30]};t in s&&(r=s[t][0],a=s[t][1])}return 0!=r||0!=a?(z[t]=[r,a],[r,a]):void 0}(y(t))}(s.symbol);if(n){let o,e=I(s.style),i=function(t){return`    <text class="sym-fill" fill="white" style="pointer-events:none;font-family:'SuttonSignWritingFill';font-size:30px;">${function(t){return String.fromCodePoint(t+1048576)}(s=y(t))}</text>\n    <text class="sym-line" fill="black" style="pointer-events:none;font-family:'SuttonSignWritingLine';font-size:30px;">${function(t){return String.fromCodePoint(t+983040)}(s)}</text>`;var s}(s.symbol);i=`  <g transform="translate(500,500)">\n${i}\n  </g>`,e.colorize?o=(t=>{const s=U(t);let n="#000000";if(s.symbol){const t=parseInt(s.symbol.slice(1,4),16),o=C.findIndex(s=>s>t);n=D[o<0?6:o-1]}return n})(s.symbol):e.detail&&(o=e.detail[0]),o&&(i=i.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${o}"`));let r=e.detail&&e.detail[1];r&&(i=i.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${r}"`));let a=500,$=500,l="";e.padding&&(a-=e.padding,$-=e.padding,n[0]+=2*e.padding,n[1]+=2*e.padding),e.background&&(l=`\n  <rect x="${a}" y="${$}" width="${n[0]}" height="${n[1]}" style="fill:${e.background};" />`);let d="";"x"!=e.zoom&&(d=` width="${n[0]*(e.zoom?e.zoom:1)}" height="${n[1]*(e.zoom?e.zoom:1)}"`);let c="";e.classes&&(c=` class="${e.classes}"`);let u="";return e.id&&(u=` id="${e.id}"`),`<svg${c}${u} version="1.1" xmlns="http://www.w3.org/2000/svg"${d} viewBox="${a} ${$} ${n[0]} ${n[1]}">\n  <text font-size="0">${t}</text>${l}\n${i}\n</svg>`}}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'},L=class{constructor(s){t(this,s),this.sgnw=window.sgnw}iidUpdate(t,s){var n=parseInt(t);isNaN(n)?this.iid=0:t!=s&&n>0&&n<65535&&(this.fsw=(t=>{const s=t-1,n=parseInt(s/96),o=parseInt((s-96*n)/16),e=parseInt(s-96*n-16*o);return"S"+(n+256).toString(16)+o.toString(16)+e.toString(16)})(n),this.swu=c(n+262144))}fswUpdate(t,s){if(t!=s){var n=g(t);n&&n.symbol&&(this.iid=(o=n.symbol,1+96*(parseInt(o.slice(1,4),16)-256)+16*parseInt(o.slice(4,5),16)+parseInt(o.slice(5,6),16)),this.swu=(t=>c(262145+96*(parseInt(t.slice(1,4),16)-256)+16*parseInt(t.slice(4,5),16)+parseInt(t.slice(5,6),16)))(n.symbol))}var o}swuUpdate(t,s){if(t!=s){var n=m(t);n&&n.symbol&&(this.iid=d(n.symbol)-262144,this.fsw=(t=>{if(!t)return"";let s=t.replace(/𝠀/g,"A").replace(/𝠁/g,"B").replace(/𝠂/g,"L").replace(/𝠃/g,"M").replace(/𝠄/g,"R");const n=s.match(new RegExp(a.symbol,"g"));n&&n.forEach((function(t){s=s.replace(t,(t=>{const s=d(t)-262145,n=parseInt(s/96),o=parseInt((s-96*n)/16),e=parseInt(s-96*n-16*o);return"S"+(n+256).toString(16)+o.toString(16)+e.toString(16)})(t))}));const o=s.match(new RegExp(a.coord,"g"));return o&&o.forEach((function(t){s=s.replace(t,l(t).join("x"))})),s})(n.symbol))}}stylingUpdate(t,s){console.log(t,s)}connectedCallback(){if(!this.sgnw){let t=this;window.addEventListener("sgnw",(function s(){t.sgnw=window.sgnw,window.removeEventListener("sgnw",s,!1)}),!1)}var t,s,n,o;if(this.fsw?s=this.fsw:this.swu?n=this.swu:this.iid&&(t=this.iid),this.styling&&(o=this.styling),!(t||s||n)){var e=this.el.innerHTML,i=g(e),r=m(e),a=parseInt(e);i&&i.symbol?s=i.symbol+(i.style?i.style:""):r&&r.symbol?(n=r.symbol,n=r.symbol+(r.style?r.style:"")):a>0&&a<65535&&(t=a)}s?(this.fsw=s,this.fswUpdate(this.fsw,"")):n?(this.swu=n,this.swuUpdate(this.swu,"")):(t||(t=0),this.iid=t,this.iidUpdate(this.iid.toString(),"0")),o&&(this.styling=o)}render(){return n(o,{iid:this.iid,fsw:this.fsw,swu:this.swu,styling:this.styling,innerHTML:this.sgnw?E(this.fsw):""},n("slot",null))}get el(){return e(this)}static get watchers(){return{iid:["iidUpdate"],fsw:["fswUpdate"],swu:["swuUpdate"],styling:["stylingUpdate"]}}};L.style="";export{i as sgnw_rating,r as sgnw_signbox,L as sgnw_symbol}